---
title: 列表和元组
date: 2020-09-03 15:11:52
tags:
categories: ['python']
---

## 列表

list（列表）是Python内置的一种数据类型（和js中的数组一样）。

比如，列出班里所有同学的名字，就可以用一个list表示：

```py
>>> classmates = ['Michael', 'Bob', 'Tracy']
>>> classmates
['Michael', 'Bob', 'Tracy']
```

### 和js相同的地方

- 可以通过索引获取和设置元素
- 元素可以是不同类型的数据，包括列表等。

### 列表的常用方法

#### len()

len函数可以获得list元素的个数：

```py
>>> len(classmates)
3
```

#### append()

往list中追加元素到末尾：

```py
>>> classmates.append('Adam')
>>> classmates
['Michael', 'Bob', 'Tracy', 'Adam']
```

#### insert()

把元素插入到指定的位置

```py
>>> classmates.insert(1, 'Jack')
>>> classmates
['Michael', 'Jack', 'Bob', 'Tracy', 'Adam']
```

#### pop() 删除元素

删除list末尾的元素

```py
>>> classmates.pop()
'Adam'
>>> classmates
['Michael', 'Jack', 'Bob', 'Tracy']
```

删除指定位置的元素：

```py
>>> classmates.pop(1)
'Jack'
>>> classmates
['Michael', 'Bob', 'Tracy']
```

## 元组（tuple）

元组是另一种有序列表。tuple和list非常类似，只是tuple一旦初始化就不能修改，比如同样是列出同学的名字：

```py
>>> classmates = ('Michael', 'Bob', 'Tracy')
```

现在，classmates这个tuple不能变了，它也没有append()，insert()这样的方法。其他获取元素的方法和list是一样的。

### 不可变的tuple的意义

因为tuple不可变，所以代码更安全。如果可能，能用tuple代替list就尽量用tuple。

### tuple的陷阱

当你定义一个tuple时，tuple的元素就必须被确定下来。

```py
>>> t = (1, 2)
>>> t
(1, 2)
```

但是，要定义一个只有1个元素的tuple，如果你这么定义：

```py
>>> t = (1)
>>> t
1
```

定义的不是tuple，是1这个数！这是因为括号()既可以表示tuple，又可以表示数学公式中的小括号，这就产生了歧义，因此，Python规定，这种情况下，按小括号进行计算。

所以，**只有1个元素的tuple定义时必须加一个逗号“,”**，来消除歧义：

```py
>>> t = (1,)
>>> t
(1,)
```

### tuple所谓的“不变”是说，tuple的每个元素的指向永远不变

来看一个“可变的”tuple：

```py
>>> t = ('a', 'b', ['A', 'B'])
>>> t[2][0] = 'X'
>>> t[2][1] = 'Y'
>>> t
('a', 'b', ['X', 'Y'])
```

当我们把list的元素'A'和'B'修改为'X'和'Y'后，tuple就变了。所以，tuple所谓的“不变”是说，tuple的每个元素，指向永远不变。即指向'a'，就不能改成指向'b'，指向一个list，就不能改成指向其他对象，但指向的这个list本身是可变的！